<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>IS415-HealthGeo-Cambodia - User Guide of our Shiny Application</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">IS415-HealthGeo-Cambodia</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../Project/Proposal.html" rel="" target="">
 <span class="menu-text">Project Overview</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../Project/Poster.html" rel="" target="">
 <span class="menu-text">Project Poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../Guide/User-Guide.html" rel="" target="" aria-current="page">
 <span class="menu-text">User Guide</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-prototype-of-features" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Prototype of Features</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-prototype-of-features">    
        <li>
    <a class="dropdown-item" href="../Prototype/Take-home_Ex03_EDA/Take-home_Ex03.html" rel="" target="">
 <span class="dropdown-text">Exploratory Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Prototype/Take-home_Ex03/Take-home_Ex03.html" rel="" target="">
 <span class="dropdown-text">Network Constrained Spatial Point Pattern Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Prototype/Spatial_Autocorrelation/SpatialAutocorrelation.html" rel="" target="">
 <span class="dropdown-text">Spatial Autocorrelation</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#home-page" id="toc-home-page" class="nav-link active" data-scroll-target="#home-page">1. Home Page</a></li>
  <li><a href="#exploratory-data-analysis---health-facilities" id="toc-exploratory-data-analysis---health-facilities" class="nav-link" data-scroll-target="#exploratory-data-analysis---health-facilities">2. Exploratory Data Analysis - Health Facilities</a>
  <ul class="collapse">
  <li><a href="#spatial-points-map" id="toc-spatial-points-map" class="nav-link" data-scroll-target="#spatial-points-map">2.1 Spatial Points map</a></li>
  <li><a href="#sidebar" id="toc-sidebar" class="nav-link" data-scroll-target="#sidebar">2.2 Sidebar</a></li>
  <li><a href="#choropleth-map" id="toc-choropleth-map" class="nav-link" data-scroll-target="#choropleth-map">2.1 Choropleth map</a></li>
  </ul></li>
  <li><a href="#exploratory-data-analysis---population" id="toc-exploratory-data-analysis---population" class="nav-link" data-scroll-target="#exploratory-data-analysis---population">3. Exploratory Data Analysis - Population</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">3.1 Introduction</a></li>
  <li><a href="#choropleth-map-1" id="toc-choropleth-map-1" class="nav-link" data-scroll-target="#choropleth-map-1">3.2 Choropleth map</a></li>
  <li><a href="#sidebar-1" id="toc-sidebar-1" class="nav-link" data-scroll-target="#sidebar-1">3.3 Sidebar</a></li>
  </ul></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">5. Data</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">User Guide of our Shiny Application</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Invalid Date</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>In this document, we will be providing a guide on how to use our application HealthGeo Cambodia.</p>
<p>We have the following pages on our application that we will be explaining one by one here:</p>
<ol type="1">
<li>Home Page</li>
<li>Exploratory Data Analysis - Health Facilities</li>
<li>Exploratory Data Analysis - Population</li>
<li>Network-Constrained Kernel Density Estimation</li>
<li>Spatial Autocorrelation</li>
<li>Data</li>
</ol>
<section id="home-page" class="level2">
<h2 class="anchored" data-anchor-id="home-page">1. Home Page</h2>
<p><img src="images/clipboard-1919762945.png" class="img-fluid"></p>
<p>This page is a static page that provides users an overview of the problem statement that is being analysed and the data that is being used in this application. This acts as a primer for users’ understanding of the context so that they can better glean insights from the subsequent analytic tools provided in this application.</p>
</section>
<section id="exploratory-data-analysis---health-facilities" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis---health-facilities">2. Exploratory Data Analysis - Health Facilities</h2>
<p>You can navigate to this page by clicking the ” EDA - Health Facilities ” tab. This page has a tabset with two tabs. The first tab is an introduction tab. This tab tells you about the features offered in this page.</p>
<p><img src="images/clipboard-171205354.png" class="img-fluid"></p>
<p>The next tab called “Maps” has a tabset of its own, where you can view either the Spatial Points map or the Choropleth map. There is a sidebar with filters to better filter out what you’d like to see on the map.</p>
<section id="spatial-points-map" class="level3">
<h3 class="anchored" data-anchor-id="spatial-points-map">2.1 Spatial Points map</h3>
<p>This is how the page looks like when the user tries to view the Spatial Points map:</p>
<p><img src="images/clipboard-1797495358.png" class="img-fluid"></p>
<p>By default, the Spatial Points map will show the distribution of all 4 health facilities type all over Cambodia as dots. To change what you’d like to see on the map, you would have to modify the inputs present in the sidebar.</p>
<p>The map is interactive, hence, the user can zoom in or out and click on the regions or the dots representing the facilities to get more details.</p>
</section>
<section id="sidebar" class="level3">
<h3 class="anchored" data-anchor-id="sidebar">2.2 Sidebar</h3>
<p>The sidebar has 4 dropdowns and 4 checkboxes.</p>
<section id="drop-downs" class="level4">
<h4 class="anchored" data-anchor-id="drop-downs">2.2.1 Drop downs</h4>
<p>The drop downs are for the user to choose the region they are interested in investigating.</p>
<p>The drop downs are hierarchical, like the data is.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note on the data:</p>
<p>Provinces are the largest grouping of regions in Cambodia, and it consists of smaller regions called districts. Each district them consists of smaller regions called communes, which then consist of smaller regions called villages.</p>
</div>
</div>
<p><u>Using all drop downs one after another</u></p>
<p>When you select a province, all the options for the child drop downs, which are districts, communes, and villages dropdowns, will be filtered to only include regions part of that province. Hence, when province kampot is chosen, only districts part of kamport will be shown as options for the district dropdown.</p>
<p><img src="images/clipboard-3859864751.png" class="img-fluid"></p>
<p>The same filtering happens for village and commune drop downs when province is selected. Only villages and communes part of that province would be provided as options for the village and commune drop downs respectively. Keeping that same logic, any parent drop down that is selected will cause all child drop downs to include regions only part of that parent region as options.</p>
<p>Hence, when a region is selected as a district, all options for the commune and village drop downs will include only regions part of that district.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>There might be many child regions with similar names that are from different parent regions. For instance, there might be two communes with the same name, but they might be from different district. Hence, it is <strong>advised</strong> for a user to choose a province, district, commune then village.</p>
</div>
</div>
<p><u>Using select drop downs</u></p>
<p>The user can choose to just select one of the 4 drop downs. They can just select a province, commune, village or district . This would be <strong>ideal if they already knew what region</strong> they wanted to investigate.</p>
</section>
<section id="checkboxes" class="level4">
<h4 class="anchored" data-anchor-id="checkboxes">2.2.2 Checkboxes</h4>
<p>There are 4 checkboxes representing the 4 types of health facilities that we are investigating. You can click as many to as little boxes as you prefer - based on which type of facility/facilities you are interested in investigating.</p>
<p>The types of facilities selected are directly reflected in the legend of the map as shown below:</p>
<p><img src="images/clipboard-1154292213.png" class="img-fluid"></p>
</section>
</section>
<section id="choropleth-map" class="level3">
<h3 class="anchored" data-anchor-id="choropleth-map">2.1 Choropleth map</h3>
<p>This choropleth map visualises the difference in the number of health facilities between the regions that are investigated. The spatial points map, however, visualises the individual discrete points whilst the choropleth map visualises the number of facilities in totality.</p>
<p>This is how the choropleth map can look like:</p>
<p><img src="images/clipboard-1725605054.png" class="img-fluid"></p>
<p>The map is interactive, hence, the user can zoom in or out and click on the regions or the dots representing the facilities to get more details.</p>
<p>By default, the user views the entirety of cambodia.</p>
<p>In addition to the options present in the sidebar, we also have a couple other options that users can leverage to customize the map they are viewing.</p>
<p>They can choose the color palate that is the most aesthetically pleasing and utilitarian for them. They can choose the type of data categorisation they prefer, and the number of the data categories they would want from 2 to 10.</p>
<p><u>Data categorization options:</u></p>
<ol type="1">
<li><p><strong>Quantile</strong>: Divides data into groups with equal numbers of points.</p></li>
<li><p><strong>Jenks (Natural Breaks)</strong>: Groups data by minimizing variance within and maximizing variance between groups.</p></li>
<li><p><strong>Equal Interval</strong>: Splits data into groups with equal value ranges.</p></li>
<li><p><strong>Pretty</strong>: Automatically determines ‘nice’ breakpoints in data to create understandable groups.</p></li>
<li><p><strong>Standard Deviation</strong>: Groups data based on how far away points are from the mean, using standard deviation units.</p></li>
<li><p><strong>K-means</strong>: Separates data into a specified number of clusters based on similarity</p></li>
</ol>
<p><u>Color Palette Options:</u></p>
<ol type="1">
<li><p>Red-Yellow-Blue</p>
<ol type="1">
<li><img src="images/clipboard-3599841527.png" class="img-fluid"></li>
</ol></li>
<li><p>Blue-Green</p>
<ol type="1">
<li><img src="images/clipboard-899837061.png" class="img-fluid"></li>
</ol></li>
<li><p>Red-Grey</p>
<ol type="1">
<li><img src="images/clipboard-2042984305.png" class="img-fluid"></li>
</ol></li>
<li><p>Purple-Orange</p>
<ol type="1">
<li><img src="images/clipboard-89957031.png" class="img-fluid"></li>
</ol></li>
<li><p>Spectral</p>
<p><img src="images/clipboard-982731566.png" class="img-fluid"></p></li>
</ol>
</section>
</section>
<section id="exploratory-data-analysis---population" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis---population">3. Exploratory Data Analysis - Population</h2>
<p>In this section, we will be visualising the differences in population indicators between provinces in Cambodia.</p>
<p>This page has a tabset with two tabs, the first is the introduction explaining what this EDA is about.</p>
<section id="introduction" class="level3">
<h3 class="anchored" data-anchor-id="introduction">3.1 Introduction</h3>
<p><img src="images/clipboard-678945791.png" class="img-fluid"></p>
</section>
<section id="choropleth-map-1" class="level3">
<h3 class="anchored" data-anchor-id="choropleth-map-1">3.2 Choropleth map</h3>
<p>The second tab in this page is the choropleth map itself:</p>
<p><img src="images/clipboard-3900241017.png" class="img-fluid"></p>
<p>The map is interactive, hence, the user can zoom in or out and click on the regions or the dots representing the facilities to get more details.</p>
<p>This choropleth map visualizes the differences in population indicators between provinces. These indicators include mortality rate of newborns, mortality rates of children under 5, and literacy rates.</p>
</section>
<section id="sidebar-1" class="level3">
<h3 class="anchored" data-anchor-id="sidebar-1">3.3 Sidebar</h3>
<p>In the sidebar, we have options that the user can select to customise their map.</p>
<p><strong>Province</strong> - the user can select the province he wants to investigate.</p>
<p><strong>Indicator</strong> - the user can select the indicator (mortality rate of newborns, mortality rates of children under 5, and literacy rates) that they are interested in.</p>
<p>The utility of the inputs color palette, number of bins and classification style remains the same as the previous choropleth map.</p>
</section>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">5. Data</h2>
<p>This page allows the user to better understand the data that was used for this application. There is a tabset with three tabs where each represents the three key sets of data that were used. Each tab allows you to view the data in the form of a table, like so:</p>
<p><img src="images/clipboard-667310276.png" class="img-fluid"></p>
<p>You could sort each of the columns ascendingly and descendingly, and also search for particular entries.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>